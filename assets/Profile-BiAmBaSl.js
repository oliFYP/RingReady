import{k as y,r as t,j as e,m as u,H as v,I as w,J as F,c as f,K as k}from"./index-EEsZY6UW.js";import{u as E,c as S,b as m,d as l}from"./index.esm-ChacaQmn.js";function I(){const{currentUser:i,userProfile:s,updateUserProfile:g}=y(),[o,d]=t.useState(!1),[n,x]=t.useState(!1),[h,c]=t.useState(""),[p,r]=t.useState(""),b={displayName:(s==null?void 0:s.displayName)||"",bio:(s==null?void 0:s.bio)||"",weight:(s==null?void 0:s.weight)||"",experience:(s==null?void 0:s.experience)||"",wins:(s==null?void 0:s.wins)||0,losses:(s==null?void 0:s.losses)||0,draws:(s==null?void 0:s.draws)||0},a=E({initialValues:b,validationSchema:S({displayName:l().required("Name is required"),bio:l(),weight:l(),experience:l(),wins:m().min(0,"Must be at least 0"),losses:m().min(0,"Must be at least 0"),draws:m().min(0,"Must be at least 0")}),onSubmit:async j=>{try{x(!0),c(""),r(""),await g(i.uid,j),r("Profile updated successfully!"),d(!1)}catch(N){console.error("Error updating profile:",N),c("Failed to update profile")}finally{x(!1)}}});return e.jsx("div",{className:"pt-16 min-h-screen bg-gray-100",children:e.jsx("section",{className:"section",children:e.jsx("div",{className:"container-custom max-w-4xl",children:e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"card p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"My Profile"}),!o&&e.jsx("button",{onClick:()=>d(!0),className:"btn-outline py-2",children:"Edit Profile"})]}),h&&e.jsx("div",{className:"mb-6 p-4 bg-red-100 text-red-700 rounded-lg",children:h}),p&&e.jsx("div",{className:"mb-6 p-4 bg-green-100 text-green-700 rounded-lg",children:p}),o?e.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"displayName",className:"block text-gray-700 font-medium mb-2",children:[e.jsx(v,{className:"inline-block mr-2 text-primary-600"}),"Full Name"]}),e.jsx("input",{id:"displayName",name:"displayName",type:"text",className:`input ${a.touched.displayName&&a.errors.displayName?"border-red-500":""}`,...a.getFieldProps("displayName")}),a.touched.displayName&&a.errors.displayName&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.errors.displayName})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:[e.jsx(w,{className:"inline-block mr-2 text-primary-600"}),"Email Address"]}),e.jsx("input",{id:"email",type:"email",className:"input bg-gray-100",value:(i==null?void 0:i.email)||"",disabled:!0}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Email cannot be changed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bio",className:"block text-gray-700 font-medium mb-2",children:"Bio"}),e.jsx("textarea",{id:"bio",name:"bio",rows:"4",className:`input ${a.touched.bio&&a.errors.bio?"border-red-500":""}`,placeholder:"Tell us about yourself...",...a.getFieldProps("bio")}),a.touched.bio&&a.errors.bio&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.errors.bio})]})]}),(s==null?void 0:s.role)==="boxer"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Boxing Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"weight",className:"block text-gray-700 font-medium mb-2",children:[e.jsx(F,{className:"inline-block mr-2 text-primary-600"}),"Weight Class"]}),e.jsxs("select",{id:"weight",name:"weight",className:`input ${a.touched.weight&&a.errors.weight?"border-red-500":""}`,...a.getFieldProps("weight"),children:[e.jsx("option",{value:"",children:"Select weight class"}),e.jsx("option",{value:"flyweight",children:"Flyweight (112 lbs)"}),e.jsx("option",{value:"bantamweight",children:"Bantamweight (118 lbs)"}),e.jsx("option",{value:"featherweight",children:"Featherweight (126 lbs)"}),e.jsx("option",{value:"lightweight",children:"Lightweight (135 lbs)"}),e.jsx("option",{value:"welterweight",children:"Welterweight (147 lbs)"}),e.jsx("option",{value:"middleweight",children:"Middleweight (160 lbs)"}),e.jsx("option",{value:"lightheavyweight",children:"Light Heavyweight (175 lbs)"}),e.jsx("option",{value:"heavyweight",children:"Heavyweight (200+ lbs)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"experience",className:"block text-gray-700 font-medium mb-2",children:[e.jsx(f,{className:"inline-block mr-2 text-primary-600"}),"Experience Level"]}),e.jsxs("select",{id:"experience",name:"experience",className:`input ${a.touched.experience&&a.errors.experience?"border-red-500":""}`,...a.getFieldProps("experience"),children:[e.jsx("option",{value:"",children:"Select experience level"}),e.jsx("option",{value:"beginner",children:"Beginner (0-1 years)"}),e.jsx("option",{value:"intermediate",children:"Intermediate (1-3 years)"}),e.jsx("option",{value:"advanced",children:"Advanced (3-5 years)"}),e.jsx("option",{value:"expert",children:"Expert (5+ years)"}),e.jsx("option",{value:"professional",children:"Professional"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"wins",className:"block text-gray-700 font-medium mb-2",children:[e.jsx(k,{className:"inline-block mr-2 text-primary-600"}),"Wins"]}),e.jsx("input",{id:"wins",name:"wins",type:"number",min:"0",className:`input ${a.touched.wins&&a.errors.wins?"border-red-500":""}`,...a.getFieldProps("wins")})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"losses",className:"block text-gray-700 font-medium mb-2",children:"Losses"}),e.jsx("input",{id:"losses",name:"losses",type:"number",min:"0",className:`input ${a.touched.losses&&a.errors.losses?"border-red-500":""}`,...a.getFieldProps("losses")})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"draws",className:"block text-gray-700 font-medium mb-2",children:"Draws"}),e.jsx("input",{id:"draws",name:"draws",type:"number",min:"0",className:`input ${a.touched.draws&&a.errors.draws?"border-red-500":""}`,...a.getFieldProps("draws")})]})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:n,children:n?"Saving...":"Save Changes"}),e.jsx("button",{type:"button",onClick:()=>{a.resetForm(),d(!1),c(""),r("")},className:"btn-outline",disabled:n,children:"Cancel"})]})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),e.jsx("p",{className:"text-lg",children:(s==null?void 0:s.displayName)||"Not set"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email Address"}),e.jsx("p",{className:"text-lg",children:i==null?void 0:i.email})]}),e.jsxs("div",{className:"space-y-1 md:col-span-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Role"}),e.jsx("p",{className:"text-lg capitalize",children:(s==null?void 0:s.role)||"Not set"})]}),e.jsxs("div",{className:"space-y-1 md:col-span-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Bio"}),e.jsx("p",{className:"text-lg",children:(s==null?void 0:s.bio)||"No bio provided"})]})]})]}),(s==null?void 0:s.role)==="boxer"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Boxing Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Weight Class"}),e.jsx("p",{className:"text-lg capitalize",children:(s==null?void 0:s.weight)||"Not set"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Experience Level"}),e.jsx("p",{className:"text-lg capitalize",children:(s==null?void 0:s.experience)||"Not set"})]})]}),e.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Fight Record"}),e.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Wins"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:(s==null?void 0:s.wins)||0})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Losses"}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:(s==null?void 0:s.losses)||0})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Draws"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:(s==null?void 0:s.draws)||0})]})]})]})]})]})]})})})})}export{I as default};
